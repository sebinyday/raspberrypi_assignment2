<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>20220415 ì´ì„¸ë¹ˆ ì»´í“¨í„°êµ¬ì¡°ë¡  ê³¼ì œ2</title>
    <style>
		
		
        /* ì „ì²´ í˜ì´ì§€ ì¤‘ì•™ ì •ë ¬ */
        .container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        /* ë™ì˜ìƒ ì»¨í…Œì´ë„ˆ */
        .video-container {
            position: relative; /* í…ìŠ¤íŠ¸ë¥¼ ë™ì˜ìƒ ìœ„ì— ë°°ì¹˜í•˜ê¸° ìœ„í•´ í•„ìš” */
            width: 640px; /* ë™ì˜ìƒ ë„ˆë¹„ */
            height: auto; /* ë¹„ìœ¨ì— ë§ê²Œ ë™ì˜ìƒ ë†’ì´ ì¡°ì • */
        }

        /* ë™ì˜ìƒ */
        .video-container img {
            display: block;
            width: 100%;
            height: auto;
        }

        /* í…ìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´ */
        .overlay-text {
            position: absolute;
            top: 10px; /* ë™ì˜ìƒ ìœ„ì—ì„œ 10px */
            left: 10px; /* ë™ì˜ìƒ ì™¼ìª½ì—ì„œ 10px */
            background-color: rgba(0, 0, 0, 0.9); /* ë°°ê²½ */
            color: white; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            padding: 5px; /* í…ìŠ¤íŠ¸ ë‚´ë¶€ ì—¬ë°± */
            font-size: 20px;
            border-radius: 5px; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>âš ï¸ ë°”ë¥¸ ìì„¸ë¡œ ì§‘ì¤‘í•˜ì—¬ ê³µë¶€í•˜ì„¸ìš”!!</h2>
        <h3>2ì´ˆ ì´ìƒ ì–¼êµ´ì´ ê°ì§€ë˜ì§€ ì•Šìœ¼ë©´ ğŸš¨ê²½ê³ ìŒì´ ë°œìƒí•©ë‹ˆë‹¤.</h3>   
        <h3>ê²½ê³ ìŒì„ ë©ˆì¶”ë ¤ë©´ ìŠ¤ìœ„ì¹˜ë¥¼ 3ë²ˆ ëˆ„ë¥´ì„¸ìš”.</h3>
        
        <!-- ë™ì˜ìƒ ë° ì˜¤ë²„ë ˆì´ í…ìŠ¤íŠ¸ -->
        <div class="video-container">
            <img src="{{ url_for('video_feed') }}" alt="Video Stream">
            <div class="overlay-text">
                <span id="status-text"></span>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
		// Flaskì—ì„œ ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜
		async function updateStatus() {
			const response = await fetch('/status'); // Flaskì—ì„œ ìƒíƒœë¥¼ ë°˜í™˜í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸ í•„ìš”
			const data = await response.json();
			const statusText = document.getElementById('status-text');
	
			// í…ìŠ¤íŠ¸ ë‚´ìš© ë° ìƒ‰ìƒ ë³€ê²½
			if (data.alarm_triggered) {
				statusText.textContent = 'Status: ALARM TRIGGEREDğŸš¨';
				statusText.style.color = 'red'; // ë¹¨ê°„ìƒ‰
				statusText.style.fontWeight = 'bold'; // êµµê²Œ
			} else {
				statusText.textContent = 'Status: Face Detectedâœ…';
				statusText.style.color = 'green'; // ì´ˆë¡ìƒ‰
				statusText.style.fontWeight = 'bold'; // êµµê²Œ
			}
		}
	
		// ìƒíƒœë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸
		setInterval(updateStatus, 100); // 0.5ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸
	</script>
	
</body>
</html>
